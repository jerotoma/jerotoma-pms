<div class='row'>
    <div class="col-md-12 col-lg-12 col-xxxl-12">
        <form [formGroup]="classForm" class="step-container" (ngSubmit)="onSubmit()">
        <nb-card class="dialog-card" >
          <nb-card-header status="danger" >{{ title }}</nb-card-header>
          <nb-card-body
            [nbSpinner]="isLoading"
            nbSpinnerStatus="success"
            nbSpinnerSize="large"
            nbSpinnerMessage="Loading Classes....">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-control-group">
                        <label for="class-academicYear" class="label">Class Academic Year</label>
                        <nb-select
                          fullWidth
                          placeholder="Class Academic Year"
                          formControlName="academicYearId"
                          id="class-academicYear">
                          <nb-option
                              *ngFor='let acad of academicYears'
                              [value]="acad.id">
                              {{acad.name}} - {{acad.yearOfStudy}}
                          </nb-option>
                        </nb-select>
                    </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-control-group">
                    <label for="course-program" class="label">Program</label>
                    <nb-select
                        fullWidth
                        placeholder="Program"
                        formControlName="programId"
                        id="course-program">
                        <nb-option
                            *ngFor='let program of programs'
                            [value]="program.id">
                            {{program.name}}
                        </nb-option>
                      </nb-select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-control-group">
                    <label for="class-academicLevel" class="label">Class Academic Level</label>
                    <nb-select
                      fullWidth
                      placeholder="Course Academic Level"
                      formControlName="academicLevelId"
                      id="class-academicLevel">
                      <nb-option
                          *ngFor='let acad of academicLevels'
                          [value]="acad.id">
                          {{acad.name}} - {{acad.code}}
                      </nb-option>
                    </nb-select>
                </div>
              </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-control-group">
                        <label for="class-course" class="label">Class Course</label>
                        <nb-select
                          fullWidth
                          placeholder="Class Course"
                          formControlName="courseId"
                          id="class-course">
                          <nb-option
                              *ngFor='let course of courses'
                              [value]="course.id">
                              {{course.name}}
                          </nb-option>
                        </nb-select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-control-group">
                        <label for="class-teacher" class="label">Class Teacher</label>
                        <nb-select
                          fullWidth
                          placeholder="Class Teacher"
                          formControlName="teacherId"
                          id="class-teacher">
                          <nb-option
                              *ngFor='let teacher of teachers'
                              [value]="teacher.id">
                              {{teacher.fullName}}
                          </nb-option>
                        </nb-select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                  <div class="form-control-group">
                    <label for="class-capacity" class="label">Class Capacity</label>
                    <input
                          type="number"
                          nbInput fullWidth
                          autocomplete="new-password"
                          required
                          id="class-capacity"
                          formControlName="capacity"
                          placeholder="Class Capacity">
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-control-group">
                        <label for="class-classRoom" class="label">Room</label>
                        <nb-select
                          fullWidth
                          placeholder="Room"
                          formControlName="roomId"
                          id="class-room">
                          <nb-option
                              *ngFor='let room of rooms'
                              [value]="room.id">
                              {{room.name}} - Capacity: {{room.capacity}}
                          </nb-option>
                        </nb-select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-control-group">
                        <label for="class-meetingTime" class="label">Meeting Time</label>
                        <nb-select
                          fullWidth
                          placeholder="Meeting Time"
                          formControlName="meetingTimeId"
                          id="class-meetingTime">
                          <nb-option
                              *ngFor='let meetingTime of meetingTimes'
                              [value]="meetingTime.id">
                              {{meetingTime.workDay.day |titlecase}} - {{meetingTime.time}}
                          </nb-option>
                        </nb-select>
                    </div>
                </div>
            </div>
          </nb-card-body>
          <nb-card-footer>
              <button class='push-right' [disabled]="!classForm.valid" type="submit" nbButton hero status="success"> {{action == 'create' ? 'Create Class' : 'Save Changes'}}</button>
              <button  type='button' class='push-right' nbButton hero status="danger" (click)="dismiss(false)">Cancel</button>
          </nb-card-footer>
        </nb-card>
    </form>
  </div>
</div>

